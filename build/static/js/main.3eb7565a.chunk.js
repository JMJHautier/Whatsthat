(this.webpackJsonpwhatsthat=this.webpackJsonpwhatsthat||[]).push([[0],{183:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},357:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),a=n(15),r=n.n(a),i=(n(183),n(184),n(185),n(17)),o=n(398),l=n(13),u=n(402),j=(n(186),n(1)),d=function(){return Object(j.jsx)("main",{children:Object(j.jsx)("div",{children:Object(j.jsxs)(o.a,{container:!0,direction:"row",justify:"center",style:{maxWidth:"100vw",minWidth:"50vw"},spacing:2,children:[Object(j.jsx)(o.a,{item:!0,children:Object(j.jsx)(u.a,{variant:"contained",color:"primary",className:"button-home",size:"large",children:Object(j.jsx)(l.b,{to:"/ask",children:Object(j.jsx)("strong",{children:"Ask"})})})}),Object(j.jsx)(o.a,{item:!0,children:Object(j.jsx)(u.a,{variant:"contained",color:"primary",className:"button-home",size:"large",children:Object(j.jsx)(l.b,{to:"/guess",children:Object(j.jsx)("strong",{children:"Guess "})})})}),Object(j.jsx)(o.a,{item:!0,children:Object(j.jsx)(u.a,{variant:"contained",color:"primary",className:"button-home",size:"large",children:Object(j.jsx)(l.b,{to:"/search",children:Object(j.jsx)("strong",{children:" Search "})})})})]})})})},h=n(12),b=n(21),m=n(16),p=n(39),x=n.n(p),O=(n(71),n(72),function(e){var t=e.language,n=e.content,c=e.setContent,a=e.onSubmit,r=e.setLanguage,i=e.nextFormStep,o=Object(b.a)({mode:"all",defaultValues:{language:"javascript"}}),l=o.register,u=o.handleSubmit,d=o.watch,h=o.formState,p=h.errors,O=h.isValid;return Object(s.useEffect)((function(){x.a.highlightAll(),console.log(t)}),[t,n]),Object(j.jsxs)("form",{onSubmit:u(a),children:[Object(j.jsxs)("fieldset",Object(m.a)(Object(m.a)({},l("language",{required:{value:!0,message:"Please pick language"}})),{},{children:[Object(j.jsx)("legend",{children:"Choose language:"}),Object(j.jsx)("input",{type:"radio",id:"javascript",name:"language",value:"javascript",checked:"javascript"===t,onChange:function(){return r("javascript")},defaultChecked:"true"}),Object(j.jsx)("label",{htmlFor:"javascript",children:"JavaScript"}),Object(j.jsx)("input",{type:"radio",id:"xml",name:"language",value:"markup",checked:"markup"===t,onChange:function(){return r("markup")}}),Object(j.jsx)("label",{htmlFor:"Html",children:"HTML"}),Object(j.jsx)("input",{type:"radio",id:"css",name:"language",value:"css",checked:"css"===t,onChange:function(){return r("css")}}),Object(j.jsx)("label",{htmlFor:"css",children:"CSS"})]})),p.code&&Object(j.jsx)("p",{children:p.code.message}),Object(j.jsxs)("div",{className:"code-edit-container",children:[Object(j.jsx)("textarea",Object(m.a)(Object(m.a)({},l("code",{required:{value:!0,message:"Please insert code"}})),{},{className:"code-input",value:n,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){var t=n,s=e.currentTarget.selectionStart;"Tab"===e.key&&(t=t.substring(0,s)+"    "+t.substring(s,t.length),e.currentTarget.selectionStart=s+3,e.currentTarget.selectionEnd=s+4,e.preventDefault(),c(t))}})),Object(j.jsx)("pre",{className:"line-numbers",children:Object(j.jsx)("code",{className:"language-".concat(t),children:n})})]}),Object(j.jsxs)("pre",{children:[" ",JSON.stringify(d(),null,2)]}),Object(j.jsx)("input",{disabled:!O,type:"submit",onClick:i,value:"Next"})]})}),g=(n(126),function(e){var t=e.language,n=e.content,c=(e.setContent,e.onSubmit),a=e.prevFormStep,r=e.whatsthat,i=e.setWhatsthat,o=e.nextFormStep,l=Object(b.a)({mode:"all"}),u=l.register,d=l.handleSubmit,h=l.watch,p=l.formState,O=p.errors;p.isValid;return Object(s.useEffect)((function(){x.a.highlightAll()}),[]),Object(j.jsxs)("form",{onSubmit:d(c),children:[Object(j.jsx)("input",{type:"submit",onClick:a,value:"previous"}),Object(j.jsx)("pre",{className:"line-numbers",children:Object(j.jsx)("code",{onMouseUp:function(){return i(window.getSelection().toString().trim())},className:"language-".concat(t),children:n})}),Object(j.jsxs)("pre",{children:[" ",JSON.stringify(h(),null,2)]}),Object(j.jsxs)("h3",{children:[" you have selected: ",Object(j.jsx)("em",{children:r})]}),Object(j.jsx)("input",Object(m.a)(Object(m.a)({hidden:"true",disabled:"true"},u("Whatsthat",{required:{value:!0,message:"Please pick a word"}})),{},{value:r})),O.Whatsthat&&Object(j.jsx)("p",{children:O.Whatsthat.message}),r&&Object(j.jsx)("input",{type:"submit",onClick:o,value:"What's that"})]})}),f=n(6),v=n.n(f),y=n(10),S=(n(193),Object(s.createContext)()),w=function(e){var t=e.children,n=Object(s.useState)(!1),c=Object(h.a)(n,2),a=c[0],r=c[1],i=Object(s.useState)({}),o=Object(h.a)(i,2),l=o[0],u=o[1],d=Object(s.useState)(""),b=Object(h.a)(d,2),m=b[0],p=b[1],x="https://whatsthatapi.herokuapp.com",O=function(){var e=Object(y.a)(v.a.mark((function e(){var t,n,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),console.log(t),n={headers:{token:t}},e.next=5,fetch("".concat(x,"/auth/me"),n);case 5:return s=e.sent,e.next=8,s.json();case 8:c=e.sent,u(c),console.log(c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=localStorage.getItem("token");console.log(e),e&&(function(){var t=Object(y.a)(v.a.mark((function t(){var n,s,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{token:e}},t.next=3,fetch("".concat(x,"/auth/verify-session"),n);case 3:return s=t.sent,t.next=6,s.json();case 6:c=t.sent,c.success?(r(!0),O()):(localStorage.removeItem("token"),r("false"),u(""),console.log("token removed"));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),console.log("hi"))}),[]),Object(s.useEffect)((function(){setTimeout((function(){return p("")}),3e3)}),[m]),Object(j.jsx)(S.Provider,{value:{isAuthenticated:a,setIsAuthenticated:r,user:l,setUser:u,getUser:O,error:m,setError:p,logOut:function(){localStorage.removeItem("token"),r(!1)}},children:t})},k=function(e){var t=e.language,n=e.content,c=(e.setContent,e.prevFormStep),a=e.whatsthat,r=(e.setWhatsthat,e.nextFormStep),i=e.setOnlineId,o=Object(b.a)({mode:"all"}),l=(o.register,o.handleSubmit,o.watch,o.formState),u=(l.errors,l.isValid,Object(s.useContext)(S)),d=u.user,h=u.getUser,m=d._id,p=Object(s.useRef)();Object(s.useEffect)((function(){x.a.highlightAll(),O(a)}),[]);var O=function(e){var t=p.current.innerHTML;console.log(p),console.log(t);var n=t.indexOf(e);console.log(n),n>=0&&(t=t.substring(0,n)+"<span class='highlight'>"+t.substring(n,n+e.length)+"</span>"+t.substring(n+e.length),p.current.innerHTML=t)},g=function(){var e=Object(y.a)(v.a.mark((function e(s){var c,o,l,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={body:n,whatsthat:a,language:t,author:m},console.log(c),s.preventDefault(),o={method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}},e.prev=4,e.next=7,fetch("".concat("https://whatsthatapi.herokuapp.com","/ask/"),o);case 7:return l=e.sent,e.next=10,l.json();case 10:u=e.sent,console.log(u),i(u.newAsk._id),h(),r(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{onSubmit:g,children:[Object(j.jsx)("input",{type:"submit",onClick:c,value:"previous"}),Object(j.jsx)("h3",{children:" What is  "}),Object(j.jsx)("h3",{children:Object(j.jsx)("span",{class:"highlight",children:a})}),Object(j.jsx)("h3",{children:" in my code: "}),Object(j.jsx)("pre",{className:"line-numbers",children:Object(j.jsx)("code",{ref:p,className:"language-".concat(t),children:n})}),Object(j.jsx)("input",{type:"submit",onClick:g,value:"submit"})]})},C=function(e){var t=e.askId,n=e.nextFormStep,s=e.formStep;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[" Your submission is available at: ",Object(j.jsxs)(l.b,{to:t,children:["https://whatsthat/",t]})]}),"Wanna be notified when you get an answer?",Object(j.jsx)(u.a,{to:"/",onClick:n,children:" Notify me per email"}),Object(j.jsxs)("p",{hidden:4!==s,children:[" you will be notified by email! Go back to ",Object(j.jsx)(l.b,{to:"/",children:" home page"})]})]})},N=function(){var e=Object(s.useState)(0),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)("javascript"),r=Object(h.a)(a,2),i=r[0],o=r[1],l=Object(s.useState)(),u=Object(h.a)(l,2),d=u[0],m=u[1],p=Object(s.useState)(""),x=Object(h.a)(p,2),f=x[0],v=x[1],y=Object(s.useState)(""),S=Object(h.a)(y,2),w=S[0],N=S[1],q="ask/".concat(w),P=Object(b.a)({mode:"all"}),T=(P.register,P.handleSubmit),F=(P.watch,P.formState),A=(F.errors,F.isValid,function(){c((function(e){return e+1}))}),_=function(){c((function(e){return e-1}))},E=function(e){c((function(e){return e+1})),console.log(e)};return Object(j.jsxs)("div",{children:[0===n&&Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:"  1- Copy your code "}),Object(j.jsx)(O,{language:i,content:d,setContent:m,onSubmit:E,setLanguage:o,nextFormStep:A})]}),1===n&&Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:" 2- Select the word that you don't know"}),Object(j.jsx)(g,{content:d,language:i,onSubmit:E,prevFormStep:_,nextFormStep:A,whatsthat:f,setWhatsthat:v}),Object(j.jsx)("form",{onSubmit:T(E)})]}),2===n&&Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:" 3- Review your submission "}),Object(j.jsx)(k,{content:d,language:i,onSubmit:E,prevFormStep:_,nextFormStep:A,whatsthat:f,setOnlineId:N})]}),n>=3&&Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:" Congratulations! "}),Object(j.jsx)(C,{askId:q,nextFormStep:A,formStep:n})]})]})},q=function(e){var t=e.formSubmitted,n=Object(s.useState)([""]),c=Object(h.a)(n,2),a=c[0],r=c[1],i="".concat("https://whatsthatapi.herokuapp.com","/ask/");return Object(s.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n),console.log(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Guess a term"}),Object(j.jsxs)("p",{children:[" You may either test yourself by guessing a term with a confirmed answer, or help the community by guessing a term that did not have a consensual answer yet.",Object(j.jsx)("h4",{children:"Test yourself "}),Object(j.jsx)(l.b,{to:"",children:'Get a random "What\'s that" '})," which has already been answered by the community. Can you get it right?",Object(j.jsx)("h4",{children:"Help the community"}),Object(j.jsx)("p",{children:" Here is the list of all the 'What's that' without confirmed answer. Please help the community by providing an answer! "}),Object(j.jsx)("div",{class:"line",children:" "}),Object(j.jsxs)("table",{children:[Object(j.jsxs)("tr",{children:[" ",Object(j.jsx)("th",{children:"Date of submission"}),Object(j.jsx)("th",{children:"unknown word"})]}),a.map((function(e){var t=e._id,n="/guess/".concat(t);return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.time}),Object(j.jsx)("td",{children:Object(j.jsx)(l.b,{to:n,children:e.whatsthat})})]})}))]})]})]})},P=n(410),T=n(411),F=function(e){var t=e.value,n=e.setValue,c=Object(s.useState)(),a=Object(h.a)(c,2),r=a[0],i=a[1];Object(s.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://whatsthatapi.herokuapp.com","/guess"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,i(n),console.log(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var o={options:r,getOptionLabel:function(e){return e.body}};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"  This is the Search page "}),r?Object(j.jsx)(T.a,Object(m.a)(Object(m.a)({},o),{},{value:t,onChange:function(e,t){n(t)},id:"answers",debug:!0,renderInput:function(e){return Object(j.jsx)(P.a,Object(m.a)(Object(m.a)({},e),{},{label:"search a term",margin:"normal"}))}})):Object(j.jsx)("p",{})]})},A=function(){var e="https://whatsthatapi.herokuapp.com",t=Object(s.useState)("Option 1"),n=Object(h.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(),i=Object(h.a)(r,2),o=i[0],u=i[1];console.log(e),Object(s.useEffect)((function(){var t=function(){var t=Object(y.a)(v.a.mark((function t(){var n,s,a,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.body,s=n.trim(),console.log(n),t.next=5,fetch("".concat(e,"/ask/guess/").concat(s));case 5:return a=t.sent,t.next=8,a.json();case 8:r=t.sent,u(r),console.log(o);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();null===c?console.log("value is null"):c.body?t():console.log("no search done")}),[c]);var d="https://developer.mozilla.org/en-US/docs/Glossary/".concat(c.body),b="https://stackoverflow.com/search?q=".concat(c.body);return Object(j.jsxs)("div",{children:[Object(j.jsx)(F,{value:c,setValue:a}),c&&o?Object(j.jsxs)("div",{children:[Object(j.jsxs)("a",{href:d,target:"_blank",children:[" ",Object(j.jsx)("img",{src:"mdn.jpg",alt:"mdn",href:d})]}),Object(j.jsxs)("a",{href:b,target:"_blank",children:[" ",Object(j.jsx)("img",{src:"stack.bmp",alt:"stack",href:b})]}),Object(j.jsxs)("h3",{children:["Examples of ",c.body]}),Object(j.jsxs)("table",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Language"}),Object(j.jsx)("th",{children:" Extract"})]}),o.map((function(e){var t="/ask/".concat(e._id);return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.time}),Object(j.jsxs)("td",{children:[" ",e.language]}),Object(j.jsxs)("td",{children:[" ",Object(j.jsxs)(l.b,{to:t,children:[e.body.substr(0,50),"..."]})]})]})}))]})]}):Object(j.jsx)("p",{})]})},_=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"  This is the ask page "}),Object(j.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse pulvinar semper turpis eget pretium. Nunc odio neque, auctor a semper at, blandit in justo. Proin dapibus accumsan enim, ac malesuada dolor aliquet nec. Aenean diam metus, vestibulum in eros a, fringilla eleifend risus. Pellentesque finibus enim libero, sit amet accumsan ipsum venenatis id. Ut quis sem condimentum, faucibus lectus in, consequat odio. Sed luctus elit sit amet ligula accumsan aliquet. Donec mauris odio, euismod et purus at, blandit eleifend orci. Fusce congue quis mi tempus sagittis. Phasellus condimentum, purus in pretium convallis, leo leo consectetur lacus, et egestas urna sem vitae odio. Ut massa felis, aliquam vitae urna ut, volutpat eleifend lectus. Proin dignissim dictum libero vel interdum. Morbi vel mauris ac nulla efficitur tincidunt. Cras et velit eget odio posuere convallis ac mattis diam. Sed tincidunt mauris ligula, nec volutpat orci bibendum ac. In at mollis turpis. Donec finibus nec nunc ut luctus. Etiam porta, mauris non accumsan cursus, nulla erat facilisis eros, vitae luctus augue mi eu lorem. Suspendisse pulvinar lobortis libero rutrum maximus. Maecenas sit amet molestie risus. Nullam semper, est a ullamcorper semper, dui erat sagittis purus, sit amet dapibus est nulla in turpis. Proin eu augue felis. Quisque ultrices venenatis odio eget convallis. Fusce nec enim a purus porttitor ornare scelerisque ac tellus. Sed cursus blandit tortor tempus tempor. Morbi scelerisque dolor sed ante molestie mollis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi malesuada ex in nisi sagittis, non euismod nunc laoreet. Nullam at fringilla felis. Aliquam fringilla tempus sem, ut lobortis purus iaculis vel. Pellentesque finibus eget mi sit amet eleifend. Proin purus quam, dignissim ut enim a, viverra tincidunt metus. Quisque ac est vel ante tristique convallis quis non purus. Sed elementum id leo pharetra ultricies. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Proin tincidunt rhoncus quam. Curabitur finibus ex at aliquet malesuada. Duis augue libero, consectetur in justo viverra, lacinia hendrerit nunc. Curabitur convallis magna non mi auctor, et molestie neque porttitor. Sed ut volutpat ipsum. Proin vestibulum, sapien malesuada ultrices porta, leo tellus volutpat quam, in dignissim urna massa id est. In non nulla eget nulla interdum interdum in vel augue. Fusce sit amet arcu semper, tincidunt eros sagittis, sodales mi. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent fermentum tristique turpis, id finibus enim varius vitae. Sed interdum, nibh sit amet consectetur vehicula, quam magna tempus lectus, quis commodo est risus non nulla. Etiam eu risus imperdiet, bibendum nunc a, posuere tellus. Aenean sit amet lectus finibus, venenatis nisl a, fermentum ligula. Integer finibus nulla at nunc aliquam ullamcorper quis in urna. Nam maximus, arcu ut porta malesuada, turpis odio blandit urna, at dictum nunc leo ac odio. Maecenas eros libero, scelerisque id mi eget, sodales varius erat. Integer fringilla eget eros vitae posuere. Ut sagittis, est ac sollicitudin gravida, purus purus maximus neque, at mollis ante ex quis leo."})]})},E=n(405),I=n(406),z=n(413),W=n(407),L=(n(297),function(){var e=Object(s.useContext)(S),t=e.user,n=(e.setUser,e.getUser),c=t.username,a=(t.email,t.ask),r=t.alert,i=Object(s.useState)([]),o=Object(h.a)(i,2),l=o[0];o[1];console.log(l);var u="https://whatsthatapi.herokuapp.com",d=function(){var e=Object(y.a)(v.a.mark((function e(s,c){var a,r,i,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={method:"PUT",body:JSON.stringify({alert:c}),headers:{"Content-Type":"application/json"}},!s.target.checked){e.next=18;break}return e.prev=2,e.next=5,fetch("".concat(u,"/user/addalert/").concat(t._id),a);case 5:return r=e.sent,e.next=8,r.json();case 8:i=e.sent,console.log(i),n(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:e.next=26;break;case 18:return e.next=20,fetch("".concat(u,"/user/removealert/").concat(t._id),a);case 20:return o=e.sent,e.next=23,o.json();case 23:l=e.sent,console.log(l),n();case 26:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[" ",Object(j.jsxs)("h3",{children:["Welcome, ",c," "]}),Object(j.jsx)("h4",{children:" Your list of questions"}),Object(j.jsxs)("table",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:'"What\'s that"'}),Object(j.jsx)("th",{children:" Answers "}),Object(j.jsx)("th",{children:" time of submission"}),Object(j.jsx)("th",{children:" Notify me "})]}),a&&a.map((function(e){return Object(j.jsx)(E.a,{component:"fieldset",children:Object(j.jsx)(I.a,{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.whatsthat}),Object(j.jsx)("td",{children:e.guess.length}),Object(j.jsxs)("td",{children:["+",e.time]}),Object(j.jsx)("td",{children:Object(j.jsx)(z.a,{control:Object(j.jsx)(W.a,{checked:!!r.find((function(t){return t._id.trim()===e._id})),onChange:function(t){return d(t,e._id)}})})})]})})})}))]})]})}),D=n(167),J=n.n(D),U=(n(357),function(){var e=Object(s.useContext)(S),t=e.isAuthenticated,n=e.logOut,c=e.user.username;return Object(j.jsxs)("header",{children:[Object(j.jsxs)(o.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-start",children:[Object(j.jsxs)(l.b,{to:"/about",children:[" ",Object(j.jsx)(J.a,{fontSize:"large"})]}),t?Object(j.jsxs)(l.b,{to:"/user",children:[" ",Object(j.jsxs)("span",{children:["My profile(",c,")"]})," ",Object(j.jsx)("div",{onClick:n,children:"Logout"})," "]}):Object(j.jsxs)("div",{children:[" ",Object(j.jsx)(l.b,{to:"/user",children:" Log-in "})," / ",Object(j.jsx)(l.b,{to:"signup",children:"Register"})]})]}),Object(j.jsxs)(l.b,{to:"/",children:[" ",Object(j.jsx)("h2",{children:"What's that?"})]}),Object(j.jsx)("h3",{children:" Know your terms, understand your code, find solutions"})]})}),M=(n(362),function(e){var t=e.selected,n=e.notSelected1,s=e.notSelected2,c="/".concat(t),a="/".concat(n),r="/".concat(s);return Object(j.jsx)("div",{class:"grid",children:Object(j.jsxs)(o.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:[Object(j.jsx)(o.a,{item:!0,xs:6,className:"notSelected",children:Object(j.jsx)(u.a,{component:l.b,to:a,variant:"contained",color:"primary",style:{fontSize:"1.5em",color:"#D7CEB2"},fullWidth:!0,children:n})}),Object(j.jsx)(o.a,{item:!0,xs:6,color:"primary",className:"notSelected",children:Object(j.jsx)(u.a,{component:l.b,to:r,variant:"contained",color:"primary",style:{fontSize:"1.5em",color:"#D7CEB2"},fullWidth:!0,children:s})}),Object(j.jsx)(o.a,{item:!0,xs:12,className:"selected",color:"primary",children:Object(j.jsx)(u.a,{component:l.b,to:c,variant:"contained",color:"primary",style:{fontSize:"2em"},fullWidth:!0,children:t})})]})})}),V=n(412),Y=function(e){var t=e.id,n=e.formSubmitted,c=Object(s.useState)(),a=Object(h.a)(c,2),r=a[0],i=a[1],o=Object(s.useState)(!1),l=Object(h.a)(o,2),u=l[0],d=l[1],b="https://whatsthatapi.herokuapp.com";Object(s.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var n,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),n="".concat(b,"/guess/ask/").concat(t),e.next=5,fetch(n);case 5:return s=e.sent,e.next=8,s.json();case 8:c=e.sent,i(c),console.log(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[t,n,u]);var m=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,s,c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="rating_positive"===t.target.className?{rating_positive:!0}:{rating_negative:!0},t.preventDefault(),s={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},console.log(t),e.prev=4,e.next=7,fetch("".concat(b,"/guess/").concat(t.target.id),s);case 7:return c=e.sent,e.next=10,c.json();case 10:a=e.sent,console.log(a),d(!u),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={isVerified:t.target.checked},console.log(t.target.checked),console.log(t),console.log(n),s={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},e.prev=5,e.next=8,fetch("".concat(b,"/guess/").concat(t.target.id),s);case 8:e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:" Previous answers "}),r?Object(j.jsxs)("table",{children:[" ",Object(j.jsxs)("tr",{children:[" ",Object(j.jsx)("th",{children:"Answer"})," ",Object(j.jsx)("th",{children:"comment"})," ",Object(j.jsx)("th",{children:"rating"})]}),r.map((function(e){return Object(j.jsxs)("tr",{className:e.isVerified?"verified":"notverified",children:[Object(j.jsx)("td",{children:e.body}),Object(j.jsx)("td",{children:e.comment}),Object(j.jsxs)("td",{children:[Object(j.jsx)("button",{onClick:m,id:e._id,className:"rating_positive",children:" positive:"}),e.rating_positive,Object(j.jsx)("button",{onClick:m,id:e._id,className:"rating_negative",children:" negative:"}),e.rating_negative]}),Object(j.jsxs)("td",{children:[" ",Object(j.jsx)(V.a,{onClick:p,checked:e.isVerified,id:e._id})]})]})}))]}):Object(j.jsx)("p",{children:"Loading"})]})},G=function(e){var t=e.setFormSubmitted,n=e.formSubmitted,s=Object(i.g)().id;console.log(s);var c=Object(b.a)({mode:"all"}),a=c.register,r=c.handleSubmit,o=(c.watch,c.formState),l=o.errors,u=(o.isValid,o.isSubmitted),d=function(){var e=Object(y.a)(v.a.mark((function e(c,a){var r,i,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c,a),r={ask:s,body:c.body,source:c.source,comment:c.comment},console.log(r),a.preventDefault(),i={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}},e.prev=5,e.next=8,fetch("".concat("https://whatsthatapi.herokuapp.com"),i);case 8:return o=e.sent,e.next=11,o.json();case 11:l=e.sent,console.log(l),t(!n),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{children:u?Object(j.jsx)("h3",{children:"Thanks for your contribution!"}):Object(j.jsxs)("form",{onSubmit:r(d,(function(e,t){console.log(e,t)})),children:[Object(j.jsx)("h3",{children:" Submit your answer "}),Object(j.jsx)("label",{for:"body",children:"Your answer (50 characters max)"}),Object(j.jsx)("input",Object(m.a)({id:"body",type:"text"},a("body",{required:{value:!0,message:"Please provide an answer"},maxLength:{value:50,message:"Your answer is too long! Please keep it under 50 characters"}}))),l.body&&Object(j.jsx)("p",{children:l.body.message}),Object(j.jsx)("label",{for:"source",children:"(optional) Your source"}),Object(j.jsx)("input",Object(m.a)({id:"source",type:"text"},a("source",{pattern:{value:/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,message:"Please submit an hyperlink"}}))),l.source&&Object(j.jsx)("p",{children:l.source.message}),Object(j.jsx)("label",{for:"comment",children:"(optional) comment"}),Object(j.jsx)("input",Object(m.a)({id:"comment",type:"text"},a("comment"))),l.comment&&Object(j.jsx)("p",{children:l.comment.message}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})})},H=function(){var e=Object(s.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(!1),r=Object(h.a)(a,2),o=r[0],l=r[1],u=Object(i.g)().id,d=Object(s.useRef)(),b=function(e){var t=d.current.innerHTML;console.log(t),console.log(n.whatsthat.length),console.log(e.length);var s=t.indexOf(e.trim());console.log(s),s>=0&&(t=t.substring(0,s)+"<span class='highlight'>"+t.substring(s,s+e.length)+"</span>"+t.substring(s+e.length),d.current.innerHTML=t)};return Object(s.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://whatsthatapi.herokuapp.com","/ask/").concat(u));case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,c(s),console.log(n),n.whatsthat?b(n.whatsthat):console.log("loading");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),x.a.highlightAll()}),[n.whatsthat]),Object(j.jsx)("div",{children:n?Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[" What's that ",n._id," / Submitted on ",n.time]}),Object(j.jsx)("h3",{children:" What is  "}),Object(j.jsx)("h3",{children:Object(j.jsx)("span",{class:"highlight",children:n.whatsthat})}),Object(j.jsx)("h3",{children:" in my code: "}),Object(j.jsx)("pre",{className:"line-numbers",children:Object(j.jsx)("code",{ref:d,className:"language-".concat(n.language),children:n.body})}),Object(j.jsx)(G,{setFormSubmitted:l}),Object(j.jsx)(Y,{id:u,formSubmitted:o,setFormSubmitted:l})]}):Object(j.jsx)("p",{children:"Loading"})})},R=function(){var e=Object(s.useContext)(S),t=e.isAuthenticated,n=e.setIsAuthenticated,c=e.error,a=e.setError,r=e.getUser,o=Object(b.a)({mode:"all"}),l=o.register,u=o.handleSubmit,d=o.watch,h=o.formState,p=h.errors,x=(h.isValid,h.isSubmitted,h.onError),O=function(){var e=Object(y.a)(v.a.mark((function e(t,s){var c,i,o,l,u,j,d,h;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.password,i=t.email,o={password:c,email:i},s.preventDefault(),l={method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}},e.prev=4,e.next=7,fetch("".concat("https://whatsthatapi.herokuapp.com","/auth/signin"),l);case 7:return u=e.sent,e.next=10,u.json();case 10:if(j=e.sent,d=j.token,!(h=j.error)){e.next=16;break}return a(h),e.abrupt("return",{error:h});case 16:localStorage.setItem("token",d),n(!0),r(),console.log(d),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[4,22]])})));return function(t,n){return e.apply(this,arguments)}}();return t?Object(j.jsx)(i.a,{to:"/"}):Object(j.jsxs)("div",{children:[c&&Object(j.jsxs)("div",{children:[" error ",c]}),Object(j.jsxs)("form",{onSubmit:u(O,x),children:[Object(j.jsx)("h3",{children:" Sign in "}),Object(j.jsx)("label",{htmlFor:"email",children:"Your email"}),Object(j.jsx)("input",Object(m.a)({id:"email",type:"text"},l("email"))),p.email&&Object(j.jsx)("p",{children:p.email.message}),Object(j.jsx)("label",{htmlFor:"password",children:"Password(at least 8 characters, including one special character)"}),Object(j.jsx)("input",Object(m.a)({id:"password",type:"password"},l("password"))),Object(j.jsx)("button",{type:"submit",children:"Submit"})]}),Object(j.jsxs)("pre",{children:[" ",JSON.stringify(d(),null,2)]})]})},B=function(){var e=Object(s.useContext)(S),t=e.isAuthenticated,n=e.setIsAuthenticated,c=e.error,a=e.setError,r=Object(b.a)({mode:"all"}),o=r.register,l=r.handleSubmit,u=r.watch,d=r.formState,h=d.errors,p=(d.isValid,d.isSubmitted,d.onError),x=function(){var e=Object(y.a)(v.a.mark((function e(t,s){var c,r,i,o,l,u,j,d,h;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,s),c=t.username,r=t.password,i=t.email,o={username:c,password:r,email:i},s.preventDefault(),l={method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}},e.prev=5,e.next=8,fetch("".concat("https://whatsthatapi.herokuapp.com","/auth/signup"),l);case 8:return u=e.sent,e.next=11,u.json();case 11:if(j=e.sent,d=j.token,!(h=j.error)){e.next=17;break}return a(h),e.abrupt("return",{error:h});case 17:localStorage.setItem("token",d),n(!0),console.log(d),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[5,22]])})));return function(t,n){return e.apply(this,arguments)}}();return t?Object(j.jsx)(i.a,{to:"/"}):Object(j.jsxs)("div",{children:[c&&Object(j.jsxs)("div",{children:[" error ",c]}),Object(j.jsxs)("form",{onSubmit:l(x,p),children:[Object(j.jsx)("h3",{children:" Sign up "}),Object(j.jsx)("label",{htmlFor:"username",children:"Your username"}),Object(j.jsx)("input",Object(m.a)({id:"username",type:"text"},o("username",{required:{value:!0,message:"Please provide a username"},maxLength:{value:30,message:"that's too long! Please keep it under 30 characters"}}))),h.username&&Object(j.jsx)("p",{children:h.username.message}),Object(j.jsx)("label",{htmlFor:"email",children:"Your email"}),Object(j.jsx)("input",Object(m.a)({id:"email",type:"text"},o("email",{pattern:{value:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,message:"Please submit a valid email address"}}))),h.email&&Object(j.jsx)("p",{children:h.email.message}),Object(j.jsx)("label",{htmlFor:"password",children:"Password(at least 8 characters, including one special character)"}),Object(j.jsx)("input",Object(m.a)({id:"password",type:"password"},o("password",{required:{value:!0,message:"Please provide a password"},maxLength:{value:20,message:"Your Password is too long! Please pick a password between 8 and 20 characters"},minLength:{value:8,message:"Your Password is too short! Please submit at least 8 characters"},pattern:{value:/(?=.*[!?@#$%^&-+=()])/,message:"Please include at least one special character(!?@#$%&*()-+=^)"}}))),Object(j.jsx)("button",{type:"submit",children:"Submit"})]}),Object(j.jsxs)("pre",{children:[" ",JSON.stringify(u(),null,2)]})]})};var $=function(){var e=Object(s.useContext)(S).isAuthenticated;return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(U,{}),Object(j.jsx)("main",{children:Object(j.jsx)(o.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{width:"55%",margin:"auto"},children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{exact:!0,path:"/",children:Object(j.jsx)(d,{})}),Object(j.jsxs)(i.b,{exact:!0,path:"/ask",children:[Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(M,{selected:"Ask",notSelected1:"Guess",notSelected2:"Search"})}),Object(j.jsx)(o.a,{item:!0,xs:12,className:"body",style:{marginTop:"16px"},children:Object(j.jsx)(N,{})})]}),Object(j.jsxs)(i.b,{path:"/ask/:id",children:[Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(M,{selected:"Ask",notSelected1:"Guess",notSelected2:"Search"})}),Object(j.jsx)(o.a,{item:!0,xs:12,className:"body",style:{marginTop:"16px"},children:Object(j.jsx)(H,{})})]}),Object(j.jsxs)(i.b,{exact:!0,path:"/guess",children:[Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(M,{selected:"Guess",notSelected1:"Ask",notSelected2:"Search"})}),Object(j.jsx)(o.a,{item:!0,xs:12,className:"body",style:{marginTop:"16px"},children:Object(j.jsx)(q,{})})]}),Object(j.jsxs)(i.b,{path:"/guess/:id",children:[Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(M,{selected:"Guess",notSelected1:"Ask",notSelected2:"Search"})}),Object(j.jsx)(o.a,{item:!0,xs:12,className:"body",style:{marginTop:"16px"},children:Object(j.jsx)(H,{})})]}),Object(j.jsxs)(i.b,{path:"/search",children:[Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(M,{selected:"Search",notSelected1:"Guess",notSelected2:"Ask"})}),Object(j.jsx)(o.a,{item:!0,xs:12,className:"body",style:{marginTop:"16px"},children:Object(j.jsx)(A,{})})]}),Object(j.jsx)(i.b,{path:"/About",children:Object(j.jsx)(_,{})}),Object(j.jsx)(i.b,{path:"/user",children:e?Object(j.jsxs)(s.Fragment,{children:[" ",Object(j.jsx)(L,{})," "]}):Object(j.jsx)(R,{})}),Object(j.jsx)(i.b,{path:"/signup",children:Object(j.jsx)(B,{})})]})})})]})},Z=n(408),K=n(409),Q=n(168),X=Object(Q.a)({palette:{type:"dark",primary:{main:"#587291"},secondary:{main:"#D7CEB2"},error:{main:"#FF6978"},background:{default:"#0D0630"},success:{main:"#109648"}},typography:{fontFamily:"Roboto"}});r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(l.a,{children:Object(j.jsx)(w,{children:Object(j.jsxs)(Z.a,{theme:X,children:[Object(j.jsx)(K.a,{}),Object(j.jsx)($,{})]})})})}),document.getElementById("root"))},71:function(e,t,n){},72:function(e,t,n){}},[[363,1,2]]]);
//# sourceMappingURL=main.3eb7565a.chunk.js.map